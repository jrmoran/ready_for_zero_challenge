<!DOCTYPE html>  <html> <head>   <title>q1.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="q1.html">                 q1.coffee               </a>                                           <a class="source" href="q2.html">                 q2.coffee               </a>                                           <a class="source" href="q3.html">                 q3.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               q1.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <p>The 3072 characters below contain a sequence of 5 characters which is repeated.</p>

<p>However, there is a twist: one of the sequences has a typo.</p>

<p>To be specific,Â·you're looking for two groups of 5 characters which
share 4 of those characters.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">data = </span><span class="s2">&quot;en3pG3+nz+A2acXKrsyDouhViP9EDQS4JQK6uJqM3rBjKEBKC3yc=AA1=LUQqRPHvQ4dopgkbb/axClP3smzVcaTkRsCqHSG5aKFQ2TbOae0t5r4nWrCVesGK1Z3yEq+dClrDwXXOiAMyW09WdCS+CaKcfu=6kv9dUFBcS4KsUIgwMiXimoBpJZSWlBzILVf4zVA=7GjRP8RXn6uKjbjAPkpFEs/mYJpeOpEnhQfPhjoscgjfL5/SQsU6+jaAf5pg9MQzZdQAEJt7Jm1541fEmnumpjmJMd/MTJ5vzBttBBA7b5rbjDX0nHdTWn8C5suYKfNyYzc6x8S6FIepoEBsMS2mKhx5BRH5jSBrYRem4iQgYARzGnCFot3jPhp3cHj7qjXBWfZZASz8YJqi2d+r393AmdGm1L9NfU2f=FJprbLwJpuE7uT7xAlQA3Ry8aHRNgNkffP29Iqb2DSoQ0PK+9LX0t37HIAhI5zvoP6b4J7yQZEQDgeNlnPQMvSjw9pLWAxQ1VUY+NMU5BLZ2Bxuma1cIsHxcx4PwHcg0u1HYPJAWM2WK=xhJP5aQSc6oNMQK4s2=6guQRVFll6rvWkXTebrdsws7m/Kpa29spUFl8XzFx0ondEMCF3byAyWj875wAI3Hn8ZY92ddTAKj0s+a4X7qSti2lA0GzePHjBjMCD5g9kZYLtB94kkbVZ6eCle/xtto4LHH8GElc5YoUi=mk3nmQ5iOL1zMWfDyRUMLq+HCXbQL9NTejNa/yTdL3sayJOlMW1T7/Jmaz1FMbfBRFzruHeMT41=Zu3nYZJ3nIP22qKrFzNkt/24RuQ+7IMVCI2ngh2Yr8qLiL7QjSThRJPxA1wIJXwR2wqGiMhOqpun4DyQ5b/fTw1eTavpbFg6+tvqS4GKOt6p=bPoTV0GHIBBlXgHF/GUss90N0mXMKKiGwHhn/kyz=FxN0j=mfQUuUQa7lrZLjr10sqflWTwskIUkp1Cd8GYU4PaeWxiMBYFne4/8gJDt+dcZj9NV1U/B1lWigh9XvX7MiDWMAPvdrnGx0kp9v9V7LaL+JAkGGpa7s+CwwVr9C6rR0KIQLa2zF23o8men71vOVBt5Nn3U6rlmU6vWTwVhYCTptD8CHjKAX0EWcWo8T=gmYotqgXdi2y/VomdXCaBFLMtiVjpyY2npHF14p9yjvX/PBV9j4utnLeEPUZW7VD7SOc2FiqAMNBrsmNDSX64mbB6Rq1Jna36n55V5yB7=hx5FjowsqlDPD/HUR+yHAqSj7f3ZBjZZonmFFqE5ffwgf385zhjRG1x9JQRXbHG8SfLekwymb6KjkpxgZC6ATsbwALgUmmZbeMQxTAqUjyJIb9Oy2QxarahyX+bl8sElnM+j/IfvMwjSfDj/OZBl6AQpbVPfFFua4s2yhziu/vom5gtY/JDUOlEaRG=WBDX=W8Tjyx/dLE4xGuj8m9OlFWnLA6V4VVBPRbd3qUlQ9mQQYcqJj8pj=AWd3v2/yLw/SRw78lrSUajrz8i0=/mnd=8rsCMIi/F4d71XkH8V6C7Sd4IEsxVHG5EPreIZOAM0ehPTyZ4VQqHoTY2yjZwpu4LwNqQ0/l8Izyh3hczpHzl8Ai/gfkLXwR159IhKVgwP0/wxzcnnD2F8dBiQGHF7XEdbRmlplyvFos0dXsWfTFfBSRXwc2BGJtKyvO3ku2WIb1EAKJBq9rGNQv=WaMUeh087HNk+c1L6TQwCPrqm/HzaRtl3t1LYm1nmFpSfpZnbVohIfuWpIhAKrKWULSiJqJeD1Wo2TzRCh5E2tfqtRdfMvaoRoXAsU8i8RKHxmHu5qG0IUAI/ux4D0W=+Hw/DYCi47I3gaMpOf2ZsJa3SKr+kk4Hp2Oou1YfHyNw4VaPEXvkw+/WjU/9qqt4GOKAlG179j3slwGcxO6zMTxd/UoLw0h1S4wTqbi27zKkYiXB8fdTvxppQ9NAkIZQJpQ10ARdKByve6wqSznbhnGGiVEGwAmhTXPZ1v0NbAY+my1747N/2RdWSsEAX9m3WBniojR4AQENeXr=GZx0WZ01LlE2qScizbxu7UuDrCQL9LxuYf1/HYYwnzIhvvrldWmwAbylRJc1VYXGLu0dhkd/dbdIHvGr9AZQ37iMicXWvd/9E3ZftMJKPA9ilvdwCW42UMcXX8VTTQVgNNPWItRGtGWesVvugY8y5T/XZ=nOgdlwUqLsWtTH13cqgCmz+UgWcGnRFxVTmL17pJ6ZKucy8AkkUYQRsITfZfqhFxKbxR+oNTDFHSrhw/ADcOmh4ZeQA0AK67gvok4H9=t=v+6vFWEnvhrfr9RiHc9yVbwBUzAYTCZk2bOz0V6telWvtnon3Qo6qZu6SzALhnnZX4UXLpuk+Jtsfuu26dEg5Hf1I1C5l3i7+Vo6gmKGbyGe/BXf3Rhp2M/uVrNczYcZaH+GdTLUmXPEf/eZ62xKBDV0eoQAAqiv4h+xXTRvfL92dqizpXm9f35upJxwWo+jmRv1XH=ZVY5ocHnPWIXrhS3xz5fSx+uB0kcMaZz1Da6EW=AUZoccRx0nWrMUCmkDBzCQDi2Z+rXgv=Gzy96BKEkdLes9qGoLQoHJjIRlIkTPGixVXTMoWsV/f=HG9Aa2450cI1RmujMFkBRsyPDn0+zL2ZvoSIOXlHhx62zET=3mdbYsBmMiqAn88jBno7GUfbQ5DQ8L695cOtaOK9UF8ICSra5UswBmvUatVwvgMcKRSNDfTnEtsYt2+KSO8P1xCvHaJ=PiN95LM6PEzaGliQwZ7Dd=LWXR0GUBqqq+TsuTxGHLxzPvm119ceAEfyF8fqP/2Fuj6snCgRl1x/mbu/xBjUjvNAUGtfgtN5p8c3YlC9JN+D=XMo8MF0wYTqsXaN1ssGdXHsU0tbl2NZHizzJ4+njTYZMqmRTZD=h6zDW3ZkcGmGG0GLuo0TuJUTmE7tKpr7Sn2rWwWksdXe3GmicdYU0Py1YMtoO6qjGpDk0rJlDCyqzCi3RfH8R2C6+2WWx1NGhzmL2n8ku=iZT2uLnLn+RaeFse38LD38TKvjrYmxZFN4fGeKSdMqK&quot;</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>"
The previous string breaks VIM's code highlighting, the additional
quotation mark fix it</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">sequences = </span><span class="nx">data</span><span class="p">.</span><span class="nx">match</span> <span class="sr">/.{5}/g</span>
<span class="nv">last = </span><span class="nx">sequences</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <h2>Helper functions</h2>

<p>This returns the minimum of three numbers</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">minimum = </span><span class="nf">(x, y, z)-&gt;</span> 
  <span class="nv">min = </span><span class="nx">x</span>
  <span class="nv">min = </span><span class="nx">y</span> <span class="k">if</span> <span class="nx">y</span> <span class="o">&lt;</span> <span class="nx">min</span>
  <span class="nv">min = </span><span class="nx">z</span> <span class="k">if</span> <span class="nx">z</span> <span class="o">&lt;</span> <span class="nx">min</span>
  <span class="nx">min</span></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>Builds an array NxM of NaN values</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">arrNaN = </span><span class="nf">(n, m)-&gt;</span>
  <span class="nx">m</span><span class="o">--</span>
  <span class="nx">n</span><span class="o">--</span>
  <span class="nv">arr = </span><span class="p">[]</span>
  <span class="k">for</span> <span class="nx">i</span> <span class="k">in</span> <span class="p">[</span> <span class="mi">0</span><span class="p">..</span><span class="nx">n</span> <span class="p">]</span>
    <span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="nx">j</span> <span class="k">in</span> <span class="p">[</span> <span class="mi">0</span><span class="p">..</span><span class="nx">m</span> <span class="p">]</span>
      <span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="nx">j</span><span class="p">]</span> <span class="o">=</span> <span class="kc">NaN</span></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>This returns the levenshtein distance between two strings
Based in http://www.merriampark.com/ld.htm</p>

<pre><code>&gt; levDist('jaime', 'jamie')
=&gt; 2
</code></pre>

<p>This will produce the following matrix</p>

<pre><code>+--------------------------+
|  |   | j | a | m | i | e |
|  | 0 | 1 | 2 | 3 | 4 | 5 |
|j | 1 | 0 | 1 | 2 | 3 | 4 |
|a | 2 | 1 | 0 | 1 | 2 | 3 |
|i | 3 | 2 | 1 | 1 | 1 | 2 |
|m | 4 | 3 | 2 | 1 | 2 | 2 |
|e | 5 | 4 | 3 | 2 | 2 | 2 |
+--------------------------+
</code></pre>

<p>The distance is given by the last cell in the lower right</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">levDist = </span><span class="nf">(source, target)-&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>when either string is empty return the length of the opposite</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">ls = </span><span class="nx">source</span><span class="p">.</span><span class="nx">length</span>
  <span class="nv">lt = </span><span class="nx">target</span><span class="p">.</span><span class="nx">length</span>
  <span class="k">return</span> <span class="nx">lt</span> <span class="k">if</span> <span class="nx">ls</span> <span class="o">is</span> <span class="mi">0</span>
  <span class="k">return</span> <span class="nx">ls</span> <span class="k">if</span> <span class="nx">lt</span> <span class="o">is</span> <span class="mi">0</span></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>distance matrix</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">dist = </span><span class="nx">arrNaN</span> <span class="nx">ls</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">lt</span> <span class="o">+</span> <span class="mi">1</span></pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <p>first row</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nx">dist</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">i</span> <span class="k">for</span> <span class="nx">i</span> <span class="k">in</span> <span class="p">[</span> <span class="mi">0</span><span class="p">..</span><span class="nx">lt</span> <span class="p">]</span></pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>first column</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nx">dist</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nx">i</span> <span class="k">for</span> <span class="nx">i</span> <span class="k">in</span> <span class="p">[</span> <span class="mi">0</span><span class="p">..</span><span class="nx">ls</span> <span class="p">]</span></pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <p>evaluate the rest of the matrix</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="k">for</span> <span class="nx">i</span> <span class="k">in</span> <span class="p">[</span> <span class="mi">1</span> <span class="p">..</span><span class="nx">ls</span> <span class="p">]</span>
    <span class="k">for</span> <span class="nx">j</span> <span class="k">in</span> <span class="p">[</span> <span class="mi">1</span><span class="p">..</span><span class="nx">lt</span> <span class="p">]</span></pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p>when characters are a match the cost is 0, otherwise is 1
adjust indices</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nv">cost = </span><span class="k">if</span> <span class="nx">source</span><span class="p">[</span><span class="nx">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">is</span> <span class="nx">target</span><span class="p">[</span><span class="nx">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="k">then</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">1</span></pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p>this cell will contain the minimum of
* the upper cell + 1
* the cell to the left + 1
* the upper right cell + the cost</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">dist</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="nx">j</span><span class="p">]</span> <span class="o">=</span> <span class="nx">minimum</span> <span class="nx">dist</span><span class="p">[</span><span class="nx">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="nx">j</span><span class="p">]</span>   <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
                           <span class="nx">dist</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="nx">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>   <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
                           <span class="nx">dist</span><span class="p">[</span><span class="nx">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="nx">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="nx">cost</span></pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <p>console.log dist</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <p>the distance will be the last cell in the lower right</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nx">dist</span><span class="p">[</span><span class="nx">ls</span><span class="p">][</span><span class="nx">lt</span><span class="p">]</span></pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <p>this will iterate over each element of an array and compare it against
all elements to the right.</p>

<pre><code>&gt; [1, 2, 3, 4]
=&gt;(1, 2), (1, 3), (1, 4), (2, 3), (2, 4), (3, 4)
</code></pre>

<p>or</p>

<blockquote>
  <p>['jaime', 'jamie', 'james']
     => ('jaime', 'jamie'), ('jaime', 'james'), ('jamie', 'james')</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">for</span> <span class="nx">i</span> <span class="k">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">..</span><span class="nx">last</span><span class="p">]</span>
  <span class="k">for</span> <span class="nx">j</span> <span class="k">in</span> <span class="p">[</span><span class="nx">i</span><span class="p">..</span><span class="nx">last</span><span class="p">]</span>
    <span class="k">if</span> <span class="nx">i</span> <span class="o">isnt</span> <span class="nx">j</span></pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <p>finding the sequence with one typo</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nv">dist = </span><span class="nx">levDist</span> <span class="nx">sequences</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">sequences</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span>
      <span class="k">if</span> <span class="nx">dist</span> <span class="o">is</span> <span class="mi">1</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span> <span class="s2">&quot;Sequence: &quot;</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span> <span class="p">[</span> <span class="nx">sequences</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">sequences</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span> <span class="p">]</span>
        <span class="k">return</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 